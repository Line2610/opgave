---
import DynamicIcon from './DynamicIcon.astro';
import DynamicImage from './DynamicImage.astro';
import employees from '@data/employees.json';

// Use all employees or create a selection if needed
const selectedEmployees = employees;

// Type definitions for TypeScript
interface SocialLink {
  platform: string;
  url: string;
  icon: string;
}

interface Employee {
  id: number;
  name: string;
  title: string;
  description: string;
  social_links: SocialLink[];
  img: string;
  slug: string;
}
---

<section class="team-section">
  <div class="container">
    <div class="header">
      <h1 class="subtitle">Meet Our Great Team</h1>
      <p class="description">Welcome to our amazing team! We are a group of passionate individuals dedicated to excellence and innovation. Each member brings unique skills and experiences, working together to achieve our goals. Join us as we embark on exciting projects and create lasting impacts.</p>
    </div>
 <div class="team-grid">
      {selectedEmployees.map((employee: Employee) => (
        <div class="team-member">
          <div class="image-container">
            <DynamicImage
              imagePath={employee.img}
              altText={employee.name}
              width={300}
              height={400}
            />
            <div class="title-overlay">
              <span class="position-badge">{employee.title}</span>
            </div>
          </div>
          
          <div class="member-info">
            <h3 class="member-name">{employee.name}</h3>
            <p class="member-description">{employee.description}</p>
            
            <div class="social-links">
              {employee.social_links.map((link: SocialLink) => (
                <a href={link.url} class="social-link" aria-label={link.platform}>
                  <DynamicIcon name={link.icon} />
                </a>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .team-section {
    padding: 80px 0;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .team-header {
    text-align: left;
    margin-bottom: 60px;
    max-width: 600px;
  }

  .subtitle {
    font-size: 24px;
    font-weight: 600;
    letter-spacing: 2px;
    color: black;
    text-transform: uppercase;
    margin-bottom: 10px;
  }

  .description {
    font-size: 16px;
    color: black;
    line-height: 1.6;
  }

  .team-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 40px;
    justify-items: center;
    margin-top: 60px;
  }

  .team-member {
    text-align: center;
    max-width: 350px;
    width: 100%;
  }

  .image-container {
    position: relative;
    overflow: hidden;
    width: 300px;
    height: 400px;
    border-radius: 20px;
    margin: 0 auto 30px;
  }

  .image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .team-member:hover .image-container img {
    transform: scale(1.05);
  }

  .title-overlay {
    position: absolute;
    bottom: 20px;
    right: 20px;
  }

  .position-badge {
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
  }

  .member-info {
    text-align: center;
  }

  .member-name {
    font-size: 24px;
    font-weight: 700;
    color: #212529;
    margin-bottom: 15px;
  }

  .member-description {
    font-size: 15px;
    color: #6c757d;
    line-height: 1.6;
    margin-bottom: 25px;
  }

  .social-links {
    display: flex;
    justify-content: center;
    gap: 15px;
  }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    color: #6c757d;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .social-link:hover {
    background: #212529;
    color: white;
    transform: translateY(-2px);
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .team-section {
      padding: 60px 0;
    }

    .team-header h2 {
      font-size: 2.5rem;
    }

    .team-grid {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .image-container {
      width: 280px;
      height: 350px;
    }
  }

  @media (max-width: 480px) {
    .container {
      padding: 0 15px;
    }

    .team-header h2 {
      font-size: 2rem;
    }

    .image-container {
      width: 250px;
      height: 320px;
    }
  }
</style>